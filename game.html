<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hra o nÃ¡s â€” Labyrint</title>
  <link href="style-clean.css" rel="stylesheet" />
  <link href="game.css" rel="stylesheet" />
</head>
<body>
  <div class="bg-paper"></div>

  <main class="page game-page">
    <h1 class="game-title">Najdi cestu ke mnÄ› ğŸ’•</h1>
    <p class="game-hint">OvlÃ¡dÃ¡nÃ­: Å¡ipky nebo WASD</p>

    <div class="maze-container">
      <canvas id="mazeCanvas"></canvas>
    </div>

    <div class="game-legend">
      <div class="legend-item">
        <img src="assets/girlfriend.png" alt="Ty" class="legend-img" />
        <span>Ty</span>
      </div>
      <div class="legend-item">
        <img src="assets/boyfriend.png" alt="JÃ¡" class="legend-img" />
        <span>JÃ¡</span>
      </div>
    </div>

    <a href="menu.html" class="btn btn-ghost back-btn">â† ZpÄ›t do menu</a>
  </main>

  <!-- Win modal -->
  <div class="win-modal" id="winModal">
    <div class="win-content">
      <h2>ğŸ‰ NaÅ¡la jsi mÄ›! ğŸ‰</h2>
      <p>VÄ›dÄ›l jsem, Å¾e to zvlÃ¡dneÅ¡. VÅ¾dycky si ke mnÄ› najdeÅ¡ cestu. ğŸ’•</p>
      <img src="assets/curious.gif" alt="yay" class="win-gif" />
      <a href="game2.html" class="btn btn-ghost">DalÅ¡Ã­ hra</a>
    </div>
  </div>

  <script src="game.js"></script>
  <script>
    // Mark game1 as completed when win modal shows
    const observer = new MutationObserver(() => {
      if (document.getElementById('winModal').classList.contains('show')) {
        const games = JSON.parse(localStorage.getItem('completedGames') || '[]');
        if (!games.includes('game1')) {
          games.push('game1');
          localStorage.setItem('completedGames', JSON.stringify(games));
        }
      }
    });
    observer.observe(document.getElementById('winModal'), { attributes: true, attributeFilter: ['class'] });
  </script>
</body>
</html>
