<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ka캜en캜ina galaxie</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Quicksand:wght@400;500;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="galaxy.css" />
</head>
<body>
  <div id="preload-overlay" class="preload">
    <div class="preload__inner">
      <div class="preload__spinner" aria-hidden="true"></div>
      <p class="preload__label">Na캜칤t치n칤 galaxie...</p>
      <div class="preload__progress">
        <div class="preload__progress-bar" id="preloadProgress"></div>
      </div>
      <p class="preload__percent" id="preloadPercent">0%</p>
    </div>
  </div>
  <canvas id="galaxy-canvas" aria-label="3D galaxie vzpom칤nek"></canvas>

  <div class="hud">
    <button id="pulse-btn" type="button">Poslat pulz</button>
  </div>

  <!-- Secret gift star modal -->
  <div class="secret-modal" id="secretModal">
    <div class="secret-content">
      <h2>游 Na코la jsi tajnou hv캩zdu! 游</h2>
      <p>Gratuluju! Odemkla sis druh칳 d치rek!</p>
      <a href="gift2.html" class="secret-btn">游꾸 Otev콏칤t d치rek</a>
    </div>
  </div>

  <script type="importmap">
    {
      "imports": {
        "three": "https://cdn.jsdelivr.net/npm/three@0.162/build/three.module.js",
        "three/examples/jsm/controls/OrbitControls.js": "https://cdn.jsdelivr.net/npm/three@0.162/examples/jsm/controls/OrbitControls.js"
      }
    }
  </script>
  <script type="module" src="galaxy.js"></script>
  <script>
    // Function to unlock galaxy secret (call from galaxy.js when secret star is clicked)
    window.unlockGalaxySecret = function() {
      const sections = JSON.parse(localStorage.getItem('unlockedSections') || '[]');
      if (!sections.includes('galaxy-secret')) {
        sections.push('galaxy-secret');
        localStorage.setItem('unlockedSections', JSON.stringify(sections));
      }
      document.getElementById('secretModal').classList.add('show');
    };
  </script>
</body>
</html>
